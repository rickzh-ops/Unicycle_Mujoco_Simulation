<mujoco model="standing_wheel_push_over">
  <compiler angle="degree" coordinate="local" autolimits="true"/>

  <option timestep="0.0005" gravity="0 0 -9.81" integrator="RK4"
          iterations="200" viscosity="0.0005"/>

  <default>
    <geom condim="4"
          friction="0.6 0.05 0.05"
          solref="0.001 1"
          solimp="0.95 0.95 0.001"/>
  </default>

  <asset>
    <material name="glass_material" 
              rgba="0.8 0.9 1.0 0.3" 
              specular="1.0" 
              shininess="1.0" 
              reflectance="0.6"/>

    <mesh name="wheel_mesh" file="meshes/out.stl" scale="0.001 0.001 0.001"/>
    <material name="matwheel" rgba="0.75 0.75 0.78 1" specular="0.2" shininess="0.3"/>

    <texture name="texplane" type="2d" builtin="checker" width="512" height="512"
             rgb1="0.2 0.2 0.2" rgb2="0.3 0.3 0.3"/>
    <material name="matplane" texture="texplane" texrepeat="4 4" reflectance="0.05"/>
  </asset>

  <worldbody>
    <light pos="2 2 2" dir="-1 -1 -1" diffuse="0.9 0.9 0.9"/>
    <light pos="-2 1 2" dir="1 -0.5 -1" diffuse="0.4 0.4 0.4"/>
    <camera name="cam_main" pos="2.0 -2.5 1.5" xyaxes="0.78 0.62 0  -0.25 0.31 0.92"/>

    <geom name="floor" type="plane" size="5 5 0.1" material="matplane"/>

    <body name="wheel" pos="0 0 0.25">
      <joint name="root_x" type="slide" axis="1 0 0"/> <joint name="root_z" type="slide" axis="0 0 1"/> <joint name="root_y" type="hinge" axis="0 1 0"/>

      <geom name="visual" type="mesh" mesh="wheel_mesh" material="matwheel"
            pos="-0.25 -0.035 -0.25"
            contype="0" conaffinity="0"/>

      <geom name="collision" type="cylinder" size="0.25 0.0125"
            pos="0 0 0" mass="1.5" euler="90 0 0"
            rgba="0 0 0.8 0" contype="1" conaffinity="1"/>

      <geom name="disk_left" type="cylinder" size="0.21 0.015" 
        pos="0 -0.0175 0" mass="0" euler="90 0 0" 
        rgba="0 0 0.8 0" contype="1" conaffinity="1"/>
        

      <body name="box_link" pos="0 0 0" euler="0 0 0">
        <joint name="box_hinge" type="hinge" axis="0 1 0" damping="0.306"/>
        
        <geom name="disk_right" type="cylinder" size="0.165 0.015" 
        pos="0 0.0175 0" mass="0" euler="90 0 0" material="glass_material"
        contype="1" conaffinity="1"/>

        <geom name="block_geom" type="box" size="0.075 0.04 0.03" 
              pos="0 0 0.1" mass="1" euler="0 0 0" rgba="0 0 0.8 1" 
              contype="2" conaffinity="2"/>
       </body>

      <site name="top" pos="0 0 0" size="0.01" rgba="0 1 0 1"/>
    </body>
  </worldbody>

  <actuator>
    <motor name="main_motor" joint="box_hinge" gear="-1" ctrlrange="-150 150" ctrllimited="true"/>
  </actuator>

</mujoco>
